/* Global styles for the Music Player application */

/* Root-level CSS custom properties for theme transitions */
:root {
  /* Transition durations */
  --transition-fast: 150ms;
  --transition-normal: 250ms;
  --transition-slow: 400ms;
  --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Smooth transitions for theme changes */
* {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-duration: var(--transition-normal);
  transition-timing-function: var(--transition-timing);
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Ensure minimum touch target sizes on mobile devices */
@media (max-width: 768px) {
  /* Ensure all interactive elements meet minimum touch target size (44x44px) */
  button,
  a,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  input[type="reset"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Ensure form inputs have adequate height for touch */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  textarea,
  select {
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
  }

  /* Ensure menu items have adequate touch targets */
  [role="menuitem"],
  [role="option"] {
    min-height: 44px;
    padding-top: 12px;
    padding-bottom: 12px;
  }

  /* Ensure links have adequate spacing for touch */
  a {
    padding: 8px 4px;
  }

  /* Improve spacing between interactive elements */
  .mantine-Group-root > * {
    margin: 4px;
  }

  /* Ensure table action buttons have proper spacing */
  .mantine-Table-td .mantine-ActionIcon-root {
    margin: 4px;
  }
}

/* Improve focus visibility for keyboard navigation with theme-aware colors */
*:focus-visible {
  outline: 2px solid var(--mantine-primary-color-filled);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px var(--mantine-primary-color-filled-hover);
  transition: outline-color var(--transition-fast) var(--transition-timing),
              box-shadow var(--transition-fast) var(--transition-timing);
}

/* Enhanced focus styles for better accessibility */
button:focus-visible,
a:focus-visible,
[role="button"]:focus-visible {
  outline: 2px solid var(--mantine-primary-color-filled);
  outline-offset: 2px;
}

/* Ensure proper spacing for mobile layouts */
@media (max-width: 768px) {
  /* Add padding to prevent content from being hidden behind fixed elements */
  body {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Ensure proper spacing around the audio player on mobile */
  .mantine-AppShell-main {
    padding-bottom: calc(100px + env(safe-area-inset-bottom));
  }
}

/* Improve button hover states on touch devices */
@media (hover: none) and (pointer: coarse) {
  /* Remove hover effects on touch devices */
  button:hover,
  a:hover,
  [role="button"]:hover {
    transform: none;
  }

  /* Add active state feedback for touch with smooth transitions */
  button:active,
  a:active,
  [role="button"]:active {
    opacity: 0.7;
    transform: scale(0.98);
    transition: opacity var(--transition-fast) var(--transition-timing),
                transform var(--transition-fast) var(--transition-timing);
  }
}

/* Smooth hover transitions for desktop */
@media (hover: hover) and (pointer: fine) {
  button,
  a,
  [role="button"] {
    transition: background-color var(--transition-fast) var(--transition-timing),
                color var(--transition-fast) var(--transition-timing),
                border-color var(--transition-fast) var(--transition-timing),
                transform var(--transition-fast) var(--transition-timing),
                opacity var(--transition-fast) var(--transition-timing);
  }
}

/* Ensure menu dropdowns are touch-friendly */
.mantine-Menu-dropdown {
  min-width: 200px;
}

.mantine-Menu-item {
  min-height: 44px;
  padding: 12px 16px;
}

/* Improve slider touch targets on mobile */
@media (max-width: 768px) {
  .mantine-Slider-thumb {
    width: 20px;
    height: 20px;
  }

  .mantine-Slider-track {
    height: 8px;
  }
}

/* Ensure proper spacing for cards on mobile */
@media (max-width: 768px) {
  .mantine-Card-root {
    padding: 16px;
  }
}

/* Improve modal touch interactions */
@media (max-width: 768px) {
  .mantine-Modal-content {
    max-height: calc(100vh - 80px);
  }

  .mantine-Modal-header {
    min-height: 60px;
  }

  .mantine-Modal-close {
    min-width: 44px;
    min-height: 44px;
  }
}

/* Ensure drawer navigation items are touch-friendly */
.mantine-NavLink-root {
  min-height: 48px;
  padding: 12px 16px;
}

/* Improve table row touch targets on mobile */
@media (max-width: 768px) {
  .mantine-Table-tr {
    min-height: 60px;
  }

  .mantine-Table-td {
    padding: 12px 8px;
  }
}

/* Ensure adequate spacing for icon buttons */
.mantine-ActionIcon-root {
  flex-shrink: 0;
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing);
}

/* Improve text input touch targets */
.mantine-TextInput-input,
.mantine-PasswordInput-input,
.mantine-Textarea-input {
  min-height: 44px;
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing),
              color var(--transition-normal) var(--transition-timing);
}

/* Ensure file input has adequate touch target */
.mantine-FileInput-input {
  min-height: 44px;
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

/* Improve notification positioning on mobile */
@media (max-width: 768px) {
  .mantine-Notifications-root {
    bottom: calc(100px + 16px) !important;
  }
}

/* Theme-aware transitions for common Mantine components */
.mantine-Card-root,
.mantine-Paper-root {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing),
              box-shadow var(--transition-normal) var(--transition-timing);
}

.mantine-Button-root {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing),
              transform var(--transition-fast) var(--transition-timing);
}

.mantine-NavLink-root {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing);
}

.mantine-Menu-dropdown,
.mantine-Modal-content,
.mantine-Drawer-content {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for text color changes */
h1, h2, h3, h4, h5, h6, p, span, div {
  transition: color var(--transition-normal) var(--transition-timing);
}

/* Ensure links have smooth color transitions */
a {
  transition: color var(--transition-fast) var(--transition-timing),
              background-color var(--transition-fast) var(--transition-timing);
}

/* Theme-aware body background transition */
body {
  transition: background-color var(--transition-normal) var(--transition-timing),
              color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for SegmentedControl (theme switcher) */
.mantine-SegmentedControl-root {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

.mantine-SegmentedControl-label {
  transition: color var(--transition-fast) var(--transition-timing);
}

.mantine-SegmentedControl-indicator {
  transition: transform var(--transition-normal) var(--transition-timing),
              background-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Select and other form controls */
.mantine-Select-dropdown,
.mantine-MultiSelect-dropdown {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

.mantine-Select-option,
.mantine-MultiSelect-option {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Checkbox and Radio */
.mantine-Checkbox-input,
.mantine-Radio-radio {
  transition: background-color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Switch */
.mantine-Switch-track {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

.mantine-Switch-thumb {
  transition: transform var(--transition-normal) var(--transition-timing),
              background-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Tabs */
.mantine-Tabs-tab {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Accordion */
.mantine-Accordion-item {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

.mantine-Accordion-control {
  transition: background-color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Badge */
.mantine-Badge-root {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Chip */
.mantine-Chip-root {
  transition: background-color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing);
}

.mantine-Chip-label {
  transition: color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Alert */
.mantine-Alert-root {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Progress */
.mantine-Progress-root {
  transition: background-color var(--transition-normal) var(--transition-timing);
}

.mantine-Progress-section {
  transition: width var(--transition-normal) var(--transition-timing),
              background-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Slider */
.mantine-Slider-root {
  transition: opacity var(--transition-fast) var(--transition-timing);
}

.mantine-Slider-track {
  transition: background-color var(--transition-normal) var(--transition-timing);
}

.mantine-Slider-thumb {
  transition: background-color var(--transition-fast) var(--transition-timing),
              border-color var(--transition-fast) var(--transition-timing),
              transform var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Skeleton (loading states) */
.mantine-Skeleton-root {
  transition: background-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Divider */
.mantine-Divider-root {
  transition: border-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for AppShell components */
.mantine-AppShell-header,
.mantine-AppShell-navbar,
.mantine-AppShell-aside,
.mantine-AppShell-footer {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}

/* Smooth transitions for Tooltip */
.mantine-Tooltip-tooltip {
  transition: background-color var(--transition-fast) var(--transition-timing),
              color var(--transition-fast) var(--transition-timing);
}

/* Smooth transitions for Popover */
.mantine-Popover-dropdown {
  transition: background-color var(--transition-normal) var(--transition-timing),
              border-color var(--transition-normal) var(--transition-timing);
}
